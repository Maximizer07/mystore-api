# MyStore API

## Описание
MyStore API — REST API для интернет-магазина "МоиТовары" с CRUD-операциями для работы с товарами.

## Структуры данных

### Товар (Product)
- **id** (Long): уникальный идентификатор.
- **name** (String): название, до 255 символов, обязательно.
- **description** (String): описание, до 4096 символов.
- **price** (double): цена, не менее 0, по умолчанию 0.
- **available** (boolean): наличие товара, по умолчанию `false`.
### Поставка товара (Supply)
- **id** (Long): уникальный идентификатор.
- **documentName** (String): название документа, до 255 символов.
- **product_id** (Product): идентификатор товара, который поставлен.
- **quantity** (int): количество поставленного товара (больше 0).

### Продажа товара (Sale)
- **id** (Long): уникальный идентификатор.
- **documentName** (String): название документа, до 255 символов.
- **product_id** (Product): идентификатор товара, который был продан.
- **quantity** (int): количество проданного товара (больше 0).
- **cost** (double): стоимость продажи товара.
## Эндпоинты

### Получение всех товаров
- **Метод**: GET
- **URL**: /api/product
- **Описание**: возвращает список всех товаров с возможностью фильтрации и сортировки.
- **Параметры запроса**:
  - **name** (String, optional): фильтрация по названию товара. Поддерживает частичное совпадение.
  - **minPrice** (double, optional): фильтрация по минимальной цене товара.
  - **maxPrice** (double, optional): фильтрация по максимальной цене товара.
  - **available** (String, optional): фильтрация по наличию товара. Значения: `true` или `false`.
  - **sortBy** (String, optional): сортировка по полю. Поддерживаемые значения: `name`, `price`.
  - **limit** (int, optional): ограничение количества возвращаемых товаров (по умолчанию `limit=100`).
- **Ответы**:
    - `200 OK` — запрос выполнен успешно, возвращает массив товаров.

### Получение товара по ID
- **Метод**: `GET`
- **URL**: `/api/product/{id}`
- **Описание**: возвращает товар по `id`.
- **Ответы**:
    - `200 OK` — товар найден.
    - `404 Not Found` — товар не найден.

### Создание товара
- **Метод**: `POST`
- **URL**: `/api/product`
- **Описание**: создает новый товар.
- **Тело запроса**:
  ```json
  {
    "name": "New Product",
    "description": "Description",
    "price": 555.5,
    "available": true
  }
  ```
- **Ответы**:
  - `201 Created` — товар создан.
  - `400 Bad Request` — ошибка валидации.

### Обновление товара
- **Метод**: `PUT`
- **URL**: `/api/product/{id}`
- **Описание**: обновляет данные товара по `id`.
- **Тело запроса**:
  ```json
  {
    "name": "Update Product",
    "description": "Description",
    "price": 555.5,
    "available": true
  }
  ```
- **Ответы**:
  - `200 OK` — товар обновлен.
  - `404 Not Found` — товар не найден.
  - `400 Bad Request` — ошибка валидации.

### Удаление товара
- **Метод**: `DELETE`
- **URL**: `/api/product/{id}`
- **Описание**: удаляет товар по `id`.
- **Ответы**:
  - `204 No Content` — товар удален.
  - `404 Not Found` — товар не найден.

### Поставки товара

#### Получение всех поставок
- **Метод**: `GET`
- **URL**: `/api/supply`
- **Описание**: возвращает список всех поставок товаров.
- **Ответы**:
  - `200 OK` — запрос выполнен успешно, возвращает массив поставок.

#### Получение поставки по ID
- **Метод**: `GET`
- **URL**: `/api/supply/{id}`
- **Описание**: возвращает поставку товара по `id`.
- **Ответы**:
  - `200 OK` — поставка найдена.
  - `404 Not Found` — поставка не найдена.

#### Создание поставки
- **Метод**: `POST`
- **URL**: `/api/supply`
- **Описание**: создает новую поставку товара.
- **Тело запроса**:
- **Тело запроса**:
  ```json
  {
    "documentName": "Supply1",
    "product_id": 1,
    "quantity": 100
  }
  ```
- **Ответы**:
  - `201 Created` — поставка создана.
  - `400 Bad Request` — ошибка валидации.

#### Обновление поставки
- **Метод**: `PUT`
- **URL**: `/api/supply/{id}`
- **Описание**: обновляет данные поставки по `id`.
- **Тело запроса**:
  ```json
  {
    "documentName": "Supply1",
    "product_id": 1,
    "quantity": 100
  }
  ```
- **Ответы**:
  - `200 OK` — поставка обновлена.
  - `404 Not Found` — поставка не найдена.
  - `400 Bad Request` — ошибка валидации.

#### Удаление поставки
- **Метод**: `DELETE`
- **URL**: `/api/supply/{id}`
- **Описание**: удаляет поставку товара по `id`.
- **Ответы**:
  - `204 No Content` — поставка удалена.
  - `404 Not Found` — поставка не найдена.

### Продажа товара

#### Получение всех продаж
- **Метод**: `GET`
- **URL**: `/api/sale`
- **Описание**: возвращает список всех продаж товаров.
- **Ответы**:
  - `200 OK` — запрос выполнен успешно, возвращает массив продаж.

#### Получение продажи по ID
- **Метод**: `GET`
- **URL**: `/api/sale/{id}`
- **Описание**: возвращает продажу товара по `id`.
- **Ответы**:
  - `200 OK` — продажа найдена.
  - `404 Not Found` — продажа не найдена.

#### Создание продажи
- **Метод**: `POST`
- **URL**: `/api/sale`
- **Описание**: создает новую продажу товара.
- **Тело запроса**:
  ```json
  {
    "documentName": "Supply1",
    "product_id": 1,
    "quantity": 100
  }
  ```
- **Ответы**:
  - `201 Created` — продажа создана.
  - `400 Bad Request` — ошибка валидации.

#### Обновление продажи
- **Метод**: `PUT`
- **URL**: `/api/sale/{id}`
- **Описание**: обновляет данные продажи по `id`.
- **Тело запроса**:
  ```json
  {
    "documentName": "Supply1",
    "product_id": 1,
    "quantity": 100
  }
  ```
- **Ответы**:
  - `200 OK` — продажа обновлена.
  - `404 Not Found` — продажа не найдена.
  - `400 Bad Request` — ошибка валидации.

#### Удаление продажи
- **Метод**: `DELETE`
- **URL**: `/api/sale/{id}`
- **Описание**: удаляет продажу товара по `id`.
- **Ответы**:
  - `204 No Content` — продажа удалена.
  - `404 Not Found` — продажа не найдена.